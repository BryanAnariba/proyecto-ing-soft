-- MySQL Script generated by MySQL Workbench
-- Fri Feb  7 22:40:49 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema db-telefonia
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `db-telefonia` ;

-- -----------------------------------------------------
-- Schema db-telefonia
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `db-telefonia` DEFAULT CHARACTER SET utf8 ;
USE `db-telefonia` ;

-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_GENEROS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_GENEROS` (
  `ID_GENERO` INT NOT NULL AUTO_INCREMENT,
  `GENERO` VARCHAR(20) NOT NULL,
  `ABREVIATURA` VARCHAR(1) NOT NULL,
  PRIMARY KEY (`ID_GENERO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_ESTADO_CIVIL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_ESTADO_CIVIL` (
  `ID_ESTADO_CIVIL` INT NOT NULL AUTO_INCREMENT,
  `ESTADO_CIVIL` VARCHAR(20) NOT NULL,
  `ABREV_ESTADO_CIVIL` VARCHAR(1) NOT NULL,
  PRIMARY KEY (`ID_ESTADO_CIVIL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_PERSONAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_PERSONAS` (
  `ID_PERSONA` INT NOT NULL AUTO_INCREMENT,
  `DNI` VARCHAR(25) NULL,
  `ID_GENERO` INT NOT NULL,
  `ID_ESTADO_CIVIL` INT NOT NULL,
  `NOMBRE_PERSONA` VARCHAR(60) NOT NULL,
  `APELLIDO_PERSONA` VARCHAR(60) NOT NULL,
  `FECHA_NACIMIENTO` DATE NOT NULL,
  `EDAD` INT NULL,
  `DIRECCION` VARCHAR(150) NOT NULL,
  `TELEFONO` VARCHAR(25) NULL,
  `CELULAR` VARCHAR(25) NULL,
  PRIMARY KEY (`ID_PERSONA`),
  CONSTRAINT `fk_TBL_PERSONAS_TBL_GENERO1`
    FOREIGN KEY (`ID_GENERO`)
    REFERENCES `db-telefonia`.`TBL_GENEROS` (`ID_GENERO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_PERSONAS_TBL_ESTADO_CIVIL1`
    FOREIGN KEY (`ID_ESTADO_CIVIL`)
    REFERENCES `db-telefonia`.`TBL_ESTADO_CIVIL` (`ID_ESTADO_CIVIL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TBL_PERSONAS_TBL_GENERO1_idx` ON `db-telefonia`.`TBL_PERSONAS` (`ID_GENERO` ASC);

CREATE INDEX `fk_TBL_PERSONAS_TBL_ESTADO_CIVIL1_idx` ON `db-telefonia`.`TBL_PERSONAS` (`ID_ESTADO_CIVIL` ASC);


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_SUCURSALES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_SUCURSALES` (
  `ID_SUCURSAL` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE_SUCURSAL` VARCHAR(45) NOT NULL,
  `DIRECCION_SUCURSAL` VARCHAR(180) NOT NULL,
  `TELEFONO_SUCURSAL` VARCHAR(20) NOT NULL,
  `FAX_SUCURSAL` VARCHAR(45) NULL,
  `CORREO_SUCURSAL` VARCHAR(60) NOT NULL,
  `FECHA_CREACION_SUCURSAL` DATE NOT NULL,
  PRIMARY KEY (`ID_SUCURSAL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_ESTATUS_EMPLEADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_ESTATUS_EMPLEADO` (
  `ID_ESTATUS_EMPLEADO` INT NOT NULL AUTO_INCREMENT,
  `STATUS` VARCHAR(45) NOT NULL,
  `DESCRIPCION_ESTATUS` VARCHAR(150) NOT NULL,
  PRIMARY KEY (`ID_ESTATUS_EMPLEADO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_TITULACIONES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_TITULACIONES` (
  `ID_TITULACION` INT NOT NULL AUTO_INCREMENT,
  `TITULACION` VARCHAR(80) NOT NULL,
  `DESCRIPCION` VARCHAR(150) NOT NULL,
  PRIMARY KEY (`ID_TITULACION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_CARGO_EMPLEADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_CARGO_EMPLEADO` (
  `ID_CARGO_EMPLEADO` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION_CARGO_EMPLEADO` VARCHAR(180) NULL,
  `REQUISITOS_CARGO_EMPLEADO` VARCHAR(180) NULL,
  PRIMARY KEY (`ID_CARGO_EMPLEADO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_EMPLEADOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_EMPLEADOS` (
  `ID_EMPLEADO` INT NOT NULL,
  `ID_SUCURSAL` INT NOT NULL,
  `ID_ESTATUS_EMPLEADO` INT NOT NULL,
  `ID_TITULACION` INT NOT NULL,
  `ID_CARGO_EMPLEADO` INT NOT NULL,
  `FECHA_CONTRATO` VARCHAR(45) NOT NULL,
  `CORREO_EMPLEADO` VARCHAR(60) NOT NULL,
  `CLAVE_EMPLEADO` VARCHAR(65) NOT NULL,
  `OBSERVACIONES_EMPLEADO` VARCHAR(150) NULL,
  `FOTOGRAFIA_EMPLEADO` VARCHAR(200) NULL,
  PRIMARY KEY (`ID_EMPLEADO`),
  CONSTRAINT `fk_TBL_EMPLEADOS_TBL_SUCURSALES1`
    FOREIGN KEY (`ID_SUCURSAL`)
    REFERENCES `db-telefonia`.`TBL_SUCURSALES` (`ID_SUCURSAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_EMPLEADOS_TBL_PERSONAS1`
    FOREIGN KEY (`ID_EMPLEADO`)
    REFERENCES `db-telefonia`.`TBL_PERSONAS` (`ID_PERSONA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_EMPLEADOS_TBL_ESTATUS_EMPLEADO1`
    FOREIGN KEY (`ID_ESTATUS_EMPLEADO`)
    REFERENCES `db-telefonia`.`TBL_ESTATUS_EMPLEADO` (`ID_ESTATUS_EMPLEADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_EMPLEADOS_TBL_TITULACIONES1`
    FOREIGN KEY (`ID_TITULACION`)
    REFERENCES `db-telefonia`.`TBL_TITULACIONES` (`ID_TITULACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_EMPLEADOS_TBL_CARGO_EMPLEADO1`
    FOREIGN KEY (`ID_CARGO_EMPLEADO`)
    REFERENCES `db-telefonia`.`TBL_CARGO_EMPLEADO` (`ID_CARGO_EMPLEADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TBL_EMPLEADOS_TBL_SUCURSALES1_idx` ON `db-telefonia`.`TBL_EMPLEADOS` (`ID_SUCURSAL` ASC);

CREATE INDEX `fk_TBL_EMPLEADOS_TBL_PERSONAS1_idx` ON `db-telefonia`.`TBL_EMPLEADOS` (`ID_EMPLEADO` ASC);

CREATE INDEX `fk_TBL_EMPLEADOS_TBL_ESTATUS_EMPLEADO1_idx` ON `db-telefonia`.`TBL_EMPLEADOS` (`ID_ESTATUS_EMPLEADO` ASC);

CREATE INDEX `fk_TBL_EMPLEADOS_TBL_TITULACIONES1_idx` ON `db-telefonia`.`TBL_EMPLEADOS` (`ID_TITULACION` ASC);

CREATE INDEX `fk_TBL_EMPLEADOS_TBL_CARGO_EMPLEADO1_idx` ON `db-telefonia`.`TBL_EMPLEADOS` (`ID_CARGO_EMPLEADO` ASC);


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_CLIENTES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_CLIENTES` (
  `ID_CLIENTE` INT NOT NULL,
  `CORREO_ELECTRONICO` VARCHAR(80) NULL,
  PRIMARY KEY (`ID_CLIENTE`),
  CONSTRAINT `fk_TBL_CLIENTE_TBL_PERSONAS1`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `db-telefonia`.`TBL_PERSONAS` (`ID_PERSONA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TBL_CLIENTE_TBL_PERSONAS1_idx` ON `db-telefonia`.`TBL_CLIENTES` (`ID_CLIENTE` ASC);


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_TIPO_NOTIFICACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_TIPO_NOTIFICACION` (
  `ID_TIPO_NOTIFICACION` INT NOT NULL AUTO_INCREMENT,
  `TIPO_NOTIFICACION` VARCHAR(45) NOT NULL,
  `DESCRIPCION_TIPO_NOTIF` VARCHAR(150) NOT NULL,
  PRIMARY KEY (`ID_TIPO_NOTIFICACION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_NOTIFICACIONES_EMPLEADOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_NOTIFICACIONES_EMPLEADOS` (
  `ID_NOTIF_EMPLEADO` INT NOT NULL AUTO_INCREMENT,
  `ID_EMPLEADO` INT NOT NULL,
  `ID_TIPO_NOTIFICACION` INT NOT NULL,
  `DESCRIPCION_NOTIFICACION` VARCHAR(200) NULL,
  `FECHA_NOTIFICACION` DATE NULL,
  PRIMARY KEY (`ID_NOTIF_EMPLEADO`),
  CONSTRAINT `fk_TBL_NOTIFICACIONES_EMPLEADOS_TBL_EMPLEADOS1`
    FOREIGN KEY (`ID_EMPLEADO`)
    REFERENCES `db-telefonia`.`TBL_EMPLEADOS` (`ID_EMPLEADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_NOTIFICACIONES_EMPLEADOS_TBL_TIPO_NOTIFICACION1`
    FOREIGN KEY (`ID_TIPO_NOTIFICACION`)
    REFERENCES `db-telefonia`.`TBL_TIPO_NOTIFICACION` (`ID_TIPO_NOTIFICACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TBL_NOTIFICACIONES_EMPLEADOS_TBL_EMPLEADOS1_idx` ON `db-telefonia`.`TBL_NOTIFICACIONES_EMPLEADOS` (`ID_EMPLEADO` ASC);

CREATE INDEX `fk_TBL_NOTIFICACIONES_EMPLEADOS_TBL_TIPO_NOTIFICACION1_idx` ON `db-telefonia`.`TBL_NOTIFICACIONES_EMPLEADOS` (`ID_TIPO_NOTIFICACION` ASC);


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_NOTIFICACIONES_CLIENTES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_NOTIFICACIONES_CLIENTES` (
  `ID_NOTIF_CLIENTE` INT NOT NULL,
  `ID_CLIENTE` INT NOT NULL,
  `ID_TIPO_NOTIFICACION` INT NOT NULL,
  `DESCRIPCION_NOTIFICACION` VARCHAR(200) NULL,
  `FECHA_NOTIFICACION_CLI` DATE NULL,
  PRIMARY KEY (`ID_NOTIF_CLIENTE`),
  CONSTRAINT `fk_TBL_NOTIFICACIONES_CLIENTES_TBL_CLIENTE1`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `db-telefonia`.`TBL_CLIENTES` (`ID_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_NOTIFICACIONES_CLIENTES_TBL_TIPO_NOTIFICACION1`
    FOREIGN KEY (`ID_TIPO_NOTIFICACION`)
    REFERENCES `db-telefonia`.`TBL_TIPO_NOTIFICACION` (`ID_TIPO_NOTIFICACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TBL_NOTIFICACIONES_CLIENTES_TBL_CLIENTE1_idx` ON `db-telefonia`.`TBL_NOTIFICACIONES_CLIENTES` (`ID_CLIENTE` ASC);

CREATE INDEX `fk_TBL_NOTIFICACIONES_CLIENTES_TBL_TIPO_NOTIFICACION1_idx` ON `db-telefonia`.`TBL_NOTIFICACIONES_CLIENTES` (`ID_TIPO_NOTIFICACION` ASC);


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_TIPO_BITACORA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_TIPO_BITACORA` (
  `ID_TIPO_BITACORA` INT NOT NULL AUTO_INCREMENT,
  `BITACORA` VARCHAR(40) NOT NULL,
  `DESCRIPCION` VARCHAR(150) NULL,
  PRIMARY KEY (`ID_TIPO_BITACORA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `db-telefonia`.`TBL_BITACORAS_EMPLEADOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `db-telefonia`.`TBL_BITACORAS_EMPLEADOS` (
  `ID_BITACORA` INT NOT NULL AUTO_INCREMENT,
  `ID_EMPLEADO` INT NOT NULL,
  `ID_TIPO_BITACORA` INT NOT NULL,
  `FECHA_HORA_BITACORA` DATETIME NOT NULL,
  PRIMARY KEY (`ID_BITACORA`),
  CONSTRAINT `fk_TBL_BITACORAS_EMPLEADOS_TBL_TIPO_BITACORA1`
    FOREIGN KEY (`ID_TIPO_BITACORA`)
    REFERENCES `db-telefonia`.`TBL_TIPO_BITACORA` (`ID_TIPO_BITACORA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TBL_BITACORAS_EMPLEADOS_TBL_EMPLEADOS1`
    FOREIGN KEY (`ID_EMPLEADO`)
    REFERENCES `db-telefonia`.`TBL_EMPLEADOS` (`ID_EMPLEADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_TBL_BITACORAS_EMPLEADOS_TBL_TIPO_BITACORA1_idx` ON `db-telefonia`.`TBL_BITACORAS_EMPLEADOS` (`ID_TIPO_BITACORA` ASC);

CREATE INDEX `fk_TBL_BITACORAS_EMPLEADOS_TBL_EMPLEADOS1_idx` ON `db-telefonia`.`TBL_BITACORAS_EMPLEADOS` (`ID_EMPLEADO` ASC);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
